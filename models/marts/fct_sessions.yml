version: 2

models:
  - name: fct_sessions
    description: "One row per GA4 session with duration and event counts"
    columns:
      - name: user_id
        tests:
          - not_null

      - name: ga_session_id
        tests:
          - not_null

      - name: session_start_ts
        tests:
          - not_null

      - name: session_end_ts
        tests:
          - not_null

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - user_id
            - ga_session_id

